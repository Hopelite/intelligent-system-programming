#:kivy 2.1.0

<TableScreen>:
    FloatLayout:
        size: root.width, root.height

<Table>:
    rows: 12
    cols: 6
    
    canvas.before:
        Color:
            rgb: 255, 255, 255
        Rectangle:
            size: self.size
            pos: self.pos

    TableCell:
        text: 'ФИО пациента'
    TableCell:
        text: 'Адрес прописки'
    TableCell:
        text: 'Дата рождения'
    TableCell:
        text: 'Дата приема'
    TableCell:
        text: 'ФИО врача'
    TableCell:
        text: 'Заключение'
    
<TableCell>:
    color: 0, 0, 0, 1

<TableScreenActionBar>:
    pos: 0, 0

    ActionView:        
        ActionPrevious:
            title: 'Hospital'
            with_previous: False
            
        ActionButton:
            text: '< Previous'
            on_press: app.previous()
            
        ActionButton:
            text: 'Next >'
            on_press: app.next()
            
        ActionButton:
            text: 'Add'
            on_press: app.screen_manager.current = 'add_screen'

        # ActionGroup:
        #     text: 'Add'
        #     mode: 'spinner'

        #     ActionButton:
        #         text: 'Doctor'
        #     ActionButton:
        #         text: 'Patient'
        #     ActionButton:
        #         text: 'Appoinment'
        
        ActionButton:
            text: 'Find'
            on_press: app.screen_manager.current = 'search_screen'
            
        ActionButton:
            text: 'Delete'
            on_press: app.screen_manager.current = 'delete_screen'

<InputRow@BoxLayout>:
    orientation: 'horizontal'
    label_text: 'Enter Label Text'
    label_id: label
    text_input_id: text_input

    Label:
        id: label
        text: root.label_text
    TextInput:
        id: text_input

<SearchScreen>:
    BoxLayout:
        orientation: 'vertical'

        InputRow:
            id: input
            label_text: "Patient's Name"

        Button:
            text: 'Search'
            on_press: app.find_by(input.text_input_id.text)

        BoxLayout:
            orientation: 'horizontal'

            Button:
                text: "Find by patient name"
                on_press: 
                    app.search_method = 'patient_name'
                    input.label_id.text = "Patient's Name"
                
            Button:
                text: "Find by patient's address"
                on_press: 
                    app.search_method = 'patient_address'
                    input.label_id.text = "Patient's Address"
        
        BoxLayout:
            orientation: 'horizontal'
                
            Button:
                text: "Find by doctor's name"
                on_press:
                    app.search_method = 'doctor_name'
                    input.label_id.text = "Doctor's Name"
            
            Button:
                text: "Find by appointment date"
                on_press:
                    app.search_method = 'appointment_date'
                    input.label_id.text = "Appointment Date"

        Button:
            text: "Return"
            on_press: app.screen_manager.current = 'table_screen'
            
<DeleteScreen>:
    BoxLayout:
        orientation: 'vertical'

        InputRow:
            id: input
            label_text: "Patient's Name"

        Button:
            text: 'Delete'

        BoxLayout:
            orientation: 'horizontal'

            Button:
                text: "Delete by patient name"
                on_press: input.label_id.text = "Patient's Name"
                
            Button:
                text: "Delete by patient's address"
                on_press: input.label_id.text = "Patient's Address"
        
        BoxLayout:
            orientation: 'horizontal'
                
            Button:
                text: "Delete by doctor's name"
                on_press: input.label_id.text = "Doctor's Name"

        Button:
            text: "Return"
            on_press: app.screen_manager.current = 'table_screen'